<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <script src="index.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head> 

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Password Generator</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="mypasswords.html">My passwords</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

   
    <div class="d-flex justify-content-center align-items-center" style="height: 80vh;">
        <div class="card" style="max-width: 500px; width: 100%; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
            <div class="card-header text-center bg-primary text-white">
                <h4>Instantly Generate a Secure Password</h4>
                <div id="liveAlertPlaceholder"></div>

            </div>
            <div class="card-body">
              
                <div class="mb-3">
                    <label for="passwordLength" class="form-label">Password Length</label>
                    <input type="number" class="form-control" id="passwordLength" value="12" min="6" max="20">
                </div>

               
                <div class="mb-3">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="includeLowerCase" checked>
                        <label class="form-check-label" for="includeLowerCase">Include Lowercase Letters</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="includeUpperCase" checked>
                        <label class="form-check-label" for="includeUpperCase">Include Uppercase Letters</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="includeNumbers" checked>
                        <label class="form-check-label" for="includeNumbers">Include Numbers</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="includeSpecialChars" checked>
                        <label class="form-check-label" for="includeSpecialChars">Include Special Characters</label>
                    </div>
                </div>

                
                <div class="mb-3">
                    <button class="btn btn-primary w-100" id="generatePassword">Generate Password</button>
                </div>

                
                <div class="mb-3 d-flex flex-column align-items-center justify-content-center">
                   
                    <input type="text" class="form-control" id="generatedPassword" readonly>
                    <div class="mt-2">
                        <button class="btn btn-outline-secondary" onclick="copyPassword()" id="copyButton">
                            <i class="bi bi-clipboard"></i>
                        </button>
                    </div>
                </div>
                
                
            </div>
        </div>
    </div>

    <script>
        
        document.getElementById('generatePassword').addEventListener('click', function() {

            var length = document.getElementById('passwordLength').value;
            var includeLower = document.getElementById('includeLowerCase').checked;
            var includeUpper = document.getElementById('includeUpperCase').checked;
            var includeNumbers = document.getElementById('includeNumbers').checked;
            var includeSpecial = document.getElementById('includeSpecialChars').checked;

            if(!length) {
                showAlert('Please enter a password length.', 'danger');
                clearPassword();
                return;
            }

            if(length < 6 || length > 20) {
                showAlert('Password length must be at least 6 characters and at most 20 characters.', 'danger');
                clearPassword();
                return;
            }

            if (!includeLower && !includeUpper && !includeNumbers && !includeSpecial ) {
                showAlert('Please select at least one character type.', 'danger');
                clearPassword();
                return;
            }

            var lowerChars = 'abcdefghijklmnopqrstuvwxyz';
            var upperChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            var numbers = '0123456789';
            var specialChars = '!@#$%^&*()_+[]{}|;:,.<>?';

            var characters = '';
            if (includeLower) characters += lowerChars;
            if (includeUpper) characters += upperChars;
            if (includeNumbers) characters += numbers;
            if (includeSpecial) characters += specialChars;

            var password = '';
            for (var i = 0; i < length; i++) {
                password += characters.charAt(Math.floor(Math.random() * characters.length));
            }

            document.getElementById('generatedPassword').value = password;

            showAlert('Password generated successfully.', 'success');


        });


        //Show alert messages
        const alertPlaceholder = document.getElementById('liveAlertPlaceholder');

        const showAlert = (message, type) => {
        const wrapper = document.createElement('div');
        wrapper.innerHTML = [
            `<div class="alert alert-${type} alert-dismissible" role="alert">`,
            `   <div>${message}</div>`,
            '   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>',
            '</div>'
        ].join('');
        
    alertPlaceholder.innerHTML = wrapper.innerHTML;
};

        //Copy password to clipboard
        const copyPassword = () => {
            var password = document.getElementById('generatedPassword');
            if(!password.value) return;
            password.select();
            password.setSelectionRange(0, 99999);
            document.execCommand('copy');
            showAlert('Password copied to clipboard.', 'success');
        };

        //Clear generated password field
        const clearPassword = () => {
            document.getElementById('generatedPassword').value = '';
        };

        

        
    </script>
</body>
</html>
